package com.sgnn7.cpassistant;

import java.io.File;
import java.util.ArrayList;
import java.util.Collection;
import java.util.List;

public class Copier {
	private List<String> sources;

	public void setSources(List<String> sources) {
		this.sources = sources;
	}

	public List<String> getItemsFromSources() {
		List<String> fileList = new ArrayList<String>(100);
		for (String source : sources) {
			System.out.println("Source: " + source);
			fileList.addAll(getDirectoryTree(source));
		}
		for (String fileName : fileList) {
			System.out.println("Path: " + fileName);
		}
		return fileList;
	}

	private List<String> getDirectoryTree(String source) {
		List<String> fileList = new ArrayList<String>();
		fileList.add(source);
		File originalPath = new File(source);
		
		for (File currentSource : originalPath.listFiles()) {
			if(currentSource.isFile()){
				fileList.add(currentSource.getPath());
			}else if(currentSource.isDirectory()){
				List<String> directoryTree = getDirectoryTree(currentSource.getPath());
				fileList.addAll(directoryTree);
			}
		}
		return fileList;
	}

}
